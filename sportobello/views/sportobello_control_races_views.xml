<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<!-- List Views -->
		<record model="ir.ui.view" id="view_sportobello_control_races_list">
			<field name="name">sportobello.control.races.list</field>
			<field name="model">sportobello.control.races</field>
			<field name="arch" type="xml">
				<list limit="100" sample="1" class="ko-list-main" editable="bottom">
					<field name="date"/>
					<field name="description"/>
					<field name="location" optional="hide"/>
					<field name="athlete_ids" widget="many2many_tags"/>
					<field name="control_race_type_id"/>
					<field name="control_race_measure" column_invisible="1"/>
					<field name="measure_time" invisible="control_race_measure != 'time'"/>
					<field name="measure_distance" invisible="control_race_measure != 'distance'"/>
					<field name="measure_repetitions" invisible="control_race_measure != 'repetitions'" optional="hide"/>
					<field name="measure_strength" invisible="control_race_measure != 'strength'" optional="hide"/>
					<field name="measure_height" invisible="control_race_measure != 'height'" optional="hide"/>
					<field name="measure_length" invisible="control_race_measure != 'length'" optional="hide"/>
					<field name="measure_heart_rate" invisible="control_race_measure != 'heart_rate'" optional="hide"/>
					<field name="measure_other" invisible="control_race_measure != 'other'" optional="hide"/>
				</list>
			</field>
		</record>

		<!-- Search Views -->
		<record model="ir.ui.view" id="view_sportobello_control_races_search">
			<field name="name">sportobello.control.races.search</field>
			<field name="model">sportobello.control.races</field>
			<field name="arch" type="xml">
				<search string="Control Races">
					<field name="name"/>
					<field name="location"/>
					<field name="date"/>
					<field name="control_race_type_id"/>
					<separator/>
					<filter name="upcoming" string="Upcoming" domain="[('date', '>=', context_today().strftime('%Y-%m-%d'))]"/>
					<filter name="past" string="Past" domain="[('date', '&lt;', context_today().strftime('%Y-%m-%d'))]"/>
					<filter name="today" string="Today" domain="[('date', '=', context_today().strftime('%Y-%m-%d'))]"/>
				</search>
			</field>
		</record>

		<!-- Actions -->
		<record model="ir.actions.act_window" id="action_sportobello_control_races">
			<field name="name">Control Races</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">sportobello.control.races</field>
			<field name="view_mode">list,form</field>
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">Create your first control race.</p>
			</field>
		</record>

	</data>
</odoo>
